\hypertarget{namespaceKmeansOOP__mod}{}\doxysection{Kmeans\+OOP\+\_\+mod Module Reference}
\label{namespaceKmeansOOP__mod}\index{KmeansOOP\_mod@{KmeansOOP\_mod}}


This module contains procedures and routines for the Kmeans the statistical classification and clustering methods.  


\doxysubsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
interface \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}
\begin{DoxyCompactList}\small\item\em The {\ttfamily \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}} class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansTry__type}{Kmeans\+Try\+\_\+type}}
\begin{DoxyCompactList}\small\item\em The \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansTry__type}{Kmeans\+Try\+\_\+type}} type containing information about one instance of Kmeans clustering. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
type(\mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}) function \mbox{\hyperlink{namespaceKmeansOOP__mod_a282455f503f1a3c179dd0412023d603a}{construct\+Kmeans}} (nd\+Max, np\+Max, nc\+Max, nt\+Max, niter\+Max, nzsci\+Max, rel\+Tol)
\begin{DoxyCompactList}\small\item\em Construct and return an object of \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}} class. Note that this constructor solely allocates the components of the output {\ttfamily Kmeans} object to be later used for Kmeans clustering. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceKmeansOOP__mod_adaa2e1bfd0ebf0febdda572f3f9ea25e}{allocate\+Kmeans\+Components}} (Kmeans, nd\+Max, np\+Max, nc\+Max, nt\+Max)
\item 
subroutine \mbox{\hyperlink{namespaceKmeansOOP__mod_a37a9e4daacb0dcc836c806e32ec63e14}{run\+Kmeans}} (Kmeans, Point, nd, np, nc, nt, niter\+Max, nzsci\+Max, rel\+Tol, Init\+Center)
\begin{DoxyCompactList}\small\item\em This procedure is a method of the class \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}. Perform the Kmeans clustering on the input data set represented by the array {\ttfamily Point(nd, np)}. Upon performing all iterations of clustering, the index {\ttfamily Kmeansitopt} will point to the final optimal iteration of Kmeans clustering which resulted in the smallest potential. If only one clustering try has been requested, then obviously, {\ttfamily Kmeansitopt = 1}. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceKmeansOOP__mod_af12decb1817c7b3691239edf3ef79eff}{run\+KPP}} (nc, nd, np, Point, Sum\+Point, Membership, Size, potential)
\begin{DoxyCompactList}\small\item\em Find nc initial cluster centers for the Kmeans algorithm, using Kmeans++ recipe. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
character($\ast$), parameter \mbox{\hyperlink{namespaceKmeansOOP__mod_a96f9e776ee87481343c821ba5540a25f}{MODULE\+\_\+\+NAME}} = \char`\"{}@Kmeans\+OOP\+\_\+mod\char`\"{}
\item 
real(RK) \mbox{\hyperlink{namespaceKmeansOOP__mod_a93f9fc7732317a3e007e916c0853fdf1}{nd\+Kuniform}}
\item 
real(RK) \mbox{\hyperlink{namespaceKmeansOOP__mod_a503e74a812e99822837ca93ed5161392}{bt\+Factor}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This module contains procedures and routines for the Kmeans the statistical classification and clustering methods. 

\begin{DoxyAuthor}{Author}
Amir Shahmoradi 
\end{DoxyAuthor}


\doxysubsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespaceKmeansOOP__mod_adaa2e1bfd0ebf0febdda572f3f9ea25e}\label{namespaceKmeansOOP__mod_adaa2e1bfd0ebf0febdda572f3f9ea25e}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!allocateKmeansComponents@{allocateKmeansComponents}}
\index{allocateKmeansComponents@{allocateKmeansComponents}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{allocateKmeansComponents()}{allocateKmeansComponents()}}
{\footnotesize\ttfamily subroutine Kmeans\+OOP\+\_\+mod\+::allocate\+Kmeans\+Components (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}})}]{Kmeans,  }\item[{integer(IK)}]{nd\+Max,  }\item[{integer(IK)}]{np\+Max,  }\item[{integer(IK)}]{nc\+Max,  }\item[{integer(IK)}]{nt\+Max }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00158}{158}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

\mbox{\Hypertarget{namespaceKmeansOOP__mod_a282455f503f1a3c179dd0412023d603a}\label{namespaceKmeansOOP__mod_a282455f503f1a3c179dd0412023d603a}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!constructKmeans@{constructKmeans}}
\index{constructKmeans@{constructKmeans}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{constructKmeans()}{constructKmeans()}}
{\footnotesize\ttfamily type(\mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}) function Kmeans\+OOP\+\_\+mod\+::construct\+Kmeans (\begin{DoxyParamCaption}\item[{integer(IK)}]{nd\+Max,  }\item[{integer(IK)}]{np\+Max,  }\item[{integer(IK)}]{nc\+Max,  }\item[{integer(IK)}]{nt\+Max,  }\item[{integer(IK)}]{niter\+Max,  }\item[{integer(IK)}]{nzsci\+Max,  }\item[{real(RK)}]{rel\+Tol }\end{DoxyParamCaption})}



Construct and return an object of \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}} class. Note that this constructor solely allocates the components of the output {\ttfamily Kmeans} object to be later used for Kmeans clustering. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nd\+Max} & \+: The maximum possible number of dimensions (features) of the input data array {\ttfamily Point}. \\
\hline
\mbox{\texttt{ in}}  & {\em np\+Max} & \+: The maximum possible number of observations in the input data array {\ttfamily Point}. \\
\hline
\mbox{\texttt{ in}}  & {\em nc\+Max} & \+: The maximum possible number of clusters to be found via the Kmeans algorithm. \\
\hline
\mbox{\texttt{ in}}  & {\em nt\+Max} & \+: The maximum possible number of observations in the input data array {\ttfamily Point}. \\
\hline
\mbox{\texttt{ in}}  & {\em niter\+Max} & \+: The maximum number of iterations beyond which it a lack of converge is assumed ({\bfseries{optional}}, default = 1000). \\
\hline
\mbox{\texttt{ in}}  & {\em nzsci\+Max} & \+: The maximum number of zero-\/sized cluster iterations beyond which it a lack of converge is assumed ({\bfseries{optional}}, default = 10). \\
\hline
\mbox{\texttt{ in}}  & {\em rel\+Tol} & \+: The current requested relative tolerance below which should the potential fall, convergence is assumed ({\bfseries{optional}}, default = 1.\+e-\/8).\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily Kmeans} \+: An object of type \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}} containing the properties of the identified clusters. The {\ttfamily Errstat} component of the output {\ttfamily Kmeans} will be set to {\ttfamily 1} if the number of iterations reaches the input {\ttfamily niter\+Max} or its default value before convergence occurs. The {\ttfamily Errstat} component of the output {\ttfamily Kmeans} will be set to {\ttfamily 2} if more than {\ttfamily nzsci\+Max} clustering tries result in clusters with zero members. In both cases in the above, {\ttfamily Erroccurred = .true.} upon exiting the procedure.
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The input value for {\ttfamily nt} must be at least 1, otherwise it will lead to a runtime error or at best, the output will be undefined.

The input value for {\ttfamily niter\+Max} must be larger than 0 since at least one iteration will be performed by the procedure.

This algorithm does not check for the consistency of the input values for {\ttfamily nc}, {\ttfamily nd}, and {\ttfamily np}. It is currently the user\textquotesingle{}s responsibility to ensure that these input values are logical and sensible.
\end{DoxyWarning}
\begin{DoxyAuthor}{Author}

\end{DoxyAuthor}


Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00140}{140}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

\mbox{\Hypertarget{namespaceKmeansOOP__mod_a37a9e4daacb0dcc836c806e32ec63e14}\label{namespaceKmeansOOP__mod_a37a9e4daacb0dcc836c806e32ec63e14}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!runKmeans@{runKmeans}}
\index{runKmeans@{runKmeans}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{runKmeans()}{runKmeans()}}
{\footnotesize\ttfamily subroutine Kmeans\+OOP\+\_\+mod\+::run\+Kmeans (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}})}]{Kmeans,  }\item[{real(RK)}]{Point,  }\item[{integer(IK), intent(in)}]{nd,  }\item[{integer(IK), intent(in)}]{np,  }\item[{integer(IK), intent(in)}]{nc,  }\item[{integer(IK), intent(in)}]{nt,  }\item[{integer(IK)}]{niter\+Max,  }\item[{integer(IK)}]{nzsci\+Max,  }\item[{real(RK)}]{rel\+Tol,  }\item[{real(RK)}]{Init\+Center }\end{DoxyParamCaption})}



This procedure is a method of the class \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}}. Perform the Kmeans clustering on the input data set represented by the array {\ttfamily Point(nd, np)}. Upon performing all iterations of clustering, the index {\ttfamily Kmeansitopt} will point to the final optimal iteration of Kmeans clustering which resulted in the smallest potential. If only one clustering try has been requested, then obviously, {\ttfamily Kmeansitopt = 1}. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em Kmeans} & \+: An object of class \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}} which will contain the clustering results. \\
\hline
\mbox{\texttt{ in}}  & {\em Point} & \+: The input array of size {\ttfamily (nd,np)} of the points to be clustered via the Kmeans algorithm. \\
\hline
\mbox{\texttt{ in}}  & {\em nd} & \+: The current number of data attributes to be used in clustering. The condition {\ttfamily nd\texorpdfstring{$<$}{<}=nd\+Max} must hold at all times. \\
\hline
\mbox{\texttt{ in}}  & {\em np} & \+: The current number of input data points to be clustered. The condition {\ttfamily np\texorpdfstring{$<$}{<}=np\+Max} must hold at all times. \\
\hline
\mbox{\texttt{ in}}  & {\em nc} & \+: The current number of Kmeans clusters to be requested. The condition {\ttfamily nc\texorpdfstring{$<$}{<}=nc\+Max} must hold at all times. \\
\hline
\mbox{\texttt{ in}}  & {\em nt} & \+: The current number of Kmeans clustering trials. The condition {\ttfamily nt\texorpdfstring{$<$}{<}=nt\+Max} must hold at all times. \\
\hline
\mbox{\texttt{ in}}  & {\em niter\+Max} & \+: The maximum number of iterations beyond which it a lack of converge is assumed ({\bfseries{optional}}). \\
\hline
\mbox{\texttt{ in}}  & {\em nzsci\+Max} & \+: The maximum number of zero-\/sized cluster iterations beyond which it a lack of converge is assumed ({\bfseries{optional}}). \\
\hline
\mbox{\texttt{ in}}  & {\em rel\+Tol} & \+: The current requested relative tolerance below which should the potential fall, convergence is assumed ({\bfseries{optional}}). \\
\hline
\mbox{\texttt{ in}}  & {\em Init\+Center} & \+: An input array of size {\ttfamily (nd,nc,nt)} representing the initial centers of the Kmeans clusters ({\bfseries{optional}}). If not provided, the cluster centers will be initialized via the Kmeans++ algorithm.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily Kmeans} \+: An object of type \mbox{\hyperlink{structKmeansOOP__mod_1_1KmeansOOP__type}{Kmeans\+OOP\+\_\+type}} containing the properties of the identified clusters. The {\ttfamily Errstat} component of the output {\ttfamily Kmeans} will be set to {\ttfamily 1} if the number of iterations reaches the input {\ttfamily niter\+Max} or its default value before convergence occurs. The {\ttfamily Errstat} component of the output {\ttfamily Kmeans} will be set to {\ttfamily 2} if more than {\ttfamily nzsci\+Max} clustering tries result in clusters with zero members. In both cases in the above, {\ttfamily Erroccurred = .true.} upon exiting the procedure.
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
The input value for {\ttfamily niter\+Max} must be larger than 0 since at least one iteration will be performed by the procedure.

This algorithm does not check for the consistency of the input values for {\ttfamily nc}, {\ttfamily nd}, and {\ttfamily np}. It is currently the user\textquotesingle{}s responsibility to ensure that these input values are logical and sensible.
\end{DoxyWarning}
\begin{DoxyAuthor}{Author}

\end{DoxyAuthor}


Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00221}{221}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

\mbox{\Hypertarget{namespaceKmeansOOP__mod_af12decb1817c7b3691239edf3ef79eff}\label{namespaceKmeansOOP__mod_af12decb1817c7b3691239edf3ef79eff}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!runKPP@{runKPP}}
\index{runKPP@{runKPP}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{runKPP()}{runKPP()}}
{\footnotesize\ttfamily subroutine Kmeans\+OOP\+\_\+mod\+::run\+KPP (\begin{DoxyParamCaption}\item[{integer(IK), intent(in)}]{nc,  }\item[{integer(IK), intent(in)}]{nd,  }\item[{integer(IK), intent(in)}]{np,  }\item[{real(RK)}]{Point,  }\item[{real(RK)}]{Sum\+Point,  }\item[{integer(IK)}]{Membership,  }\item[{integer(IK)}]{Size,  }\item[{real(RK), intent(out)}]{potential }\end{DoxyParamCaption})}



Find nc initial cluster centers for the Kmeans algorithm, using Kmeans++ recipe. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nc} & \+: The number of clusters to be found via the Kmeans algorithm (must be \texorpdfstring{$>$}{>} 1, though it is not verified). \\
\hline
\mbox{\texttt{ in}}  & {\em nd} & \+: The number of dimensions (features) of the input data array {\ttfamily Point}. \\
\hline
\mbox{\texttt{ in}}  & {\em np} & \+: The number of observations in the input data array {\ttfamily Point}. \\
\hline
\mbox{\texttt{ in}}  & {\em Point} & \+: The input array of size {\ttfamily (nd,np)} of the points to be clustered via the Kmeans algorithm. \\
\hline
\mbox{\texttt{ out}}  & {\em Sum\+Point} & \+: An output array of size {\ttfamily (nd,nc)} containing the sum of the points in each cluster. When divided by the corresponding output cluster size, it will yield the final updated cluster centers. \\
\hline
\mbox{\texttt{ out}}  & {\em Membership} & \+: An output array of size {\ttfamily (np)} representing the IDs of the clusters to which individual points belong. \\
\hline
\mbox{\texttt{ out}}  & {\em Size} & \+: An output array of size {\ttfamily (nc)} representing the sizes of the identified clusters. \\
\hline
\mbox{\texttt{ out}}  & {\em potential} & \+: The sum of the minimum-\/distances-\/squared of all points from their corresponding group centers.\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
There is no benefit in calling this routine for {\ttfamily nc = 1}. As such, calling this routine with {\ttfamily nc = 1} will lead to undefined behavior.
\end{DoxyWarning}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000016}{Todo}}]All {\ttfamily minloc} queries in this procedure can be replaced with more efficient bin search algorithms.\end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000017}{Todo}}]The variable {\ttfamily Cum\+Sum\+Dist\+Sq} does not have to be defined as {\ttfamily real64}.\end{DoxyRefDesc}


\begin{DoxyAuthor}{Author}

\end{DoxyAuthor}


Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00458}{458}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceKmeansOOP__mod_a503e74a812e99822837ca93ed5161392}\label{namespaceKmeansOOP__mod_a503e74a812e99822837ca93ed5161392}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!btFactor@{btFactor}}
\index{btFactor@{btFactor}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{btFactor}{btFactor}}
{\footnotesize\ttfamily real(RK) Kmeans\+OOP\+\_\+mod\+::bt\+Factor}



Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00057}{57}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

\mbox{\Hypertarget{namespaceKmeansOOP__mod_a96f9e776ee87481343c821ba5540a25f}\label{namespaceKmeansOOP__mod_a96f9e776ee87481343c821ba5540a25f}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!MODULE\_NAME@{MODULE\_NAME}}
\index{MODULE\_NAME@{MODULE\_NAME}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{MODULE\_NAME}{MODULE\_NAME}}
{\footnotesize\ttfamily character($\ast$), parameter Kmeans\+OOP\+\_\+mod\+::\+MODULE\+\_\+\+NAME = \char`\"{}@Kmeans\+OOP\+\_\+mod\char`\"{}}



Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00055}{55}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

\mbox{\Hypertarget{namespaceKmeansOOP__mod_a93f9fc7732317a3e007e916c0853fdf1}\label{namespaceKmeansOOP__mod_a93f9fc7732317a3e007e916c0853fdf1}} 
\index{KmeansOOP\_mod@{KmeansOOP\_mod}!ndKuniform@{ndKuniform}}
\index{ndKuniform@{ndKuniform}!KmeansOOP\_mod@{KmeansOOP\_mod}}
\doxysubsubsection{\texorpdfstring{ndKuniform}{ndKuniform}}
{\footnotesize\ttfamily real(RK) Kmeans\+OOP\+\_\+mod\+::nd\+Kuniform}



Definition at line \mbox{\hyperlink{KmeansOOP__mod_8f90_source_l00057}{57}} of file \mbox{\hyperlink{KmeansOOP__mod_8f90_source}{Kmeans\+OOP\+\_\+mod.\+f90}}.

